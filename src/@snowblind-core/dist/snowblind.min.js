var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{KS:()=>C,vH:()=>p,ji:()=>y,E5:()=>m,bk:()=>b,Ei:()=>f,Zs:()=>h});class n{constructor(e){this.subscriberCount=0,this.value=e,this.subscribers=[]}next(e){this.value=e;for(const t of this.subscribers)t(e)}subscribe(e){this.subscribers.push(e),this.subscriberCount++}restore(){this.subscribers=[],this.value=void 0}}function s(e){let t={value:e.value};return e.subscribe((e=>t.value=e)),new Proxy(t,{get(t,n){if(n===i)return e;const s=Reflect.get(t,"value"),r=s[n];return"function"==typeof r?r.bind(s):r},ownKeys:e=>Reflect.ownKeys(e.value)})}class r{constructor(){this.current}}const o=new n,i=Symbol("isProxy");class l{constructor(e){this.didUpdateOnce=!1,this.didMountCallbacks=[],this.didUpdateCallbacks=[],this.willUnmountCallbacks=[],this.generator=e,o.next(this),o.restore()}render(){return this.node=this.generator(),this.node}onComponentDidMount(e){this.didMountCallbacks.push(e)}onComponentDidUpdate(e){this.didUpdateCallbacks.push(e)}onComponentWillUnmount(e){this.willUnmountCallbacks.push(e)}didUpdate(){this.didUpdateOnce?this.didUpdateCallbacks.forEach((e=>e(this.node))):(this.didMountCallbacks.forEach((e=>e(this.node))),this.didUpdateOnce=!0)}}function c(e,t){o.next(t);let n=t.render();e.appendChild(n),t.didUpdate()}const a={allowObjectProperties:!1};function u(e,t,...s){let o;if(t=t||{},"function"==typeof e){t.children=s;let n=e(t);return new l(n)}if(o=document.createElement(e),t)for(const[e,s]of Object.entries(t))if("function"==typeof s)o[e.toLowerCase()]=s;else if(s instanceof n)s.subscribe((t=>{o.setAttribute(e,t)})),o.setAttribute(e,s.value);else if(s instanceof r)s.current=o;else if("object"==typeof s)if("style"===e)for(let[e,t]of Object.entries(s))t instanceof n&&t.subscribe((t=>{o.style[e]=t})),null===t?t="none":"number"==typeof t&&(t+="px"),o.style[e]=t;else if("props"===e)for(const[e,t]of Object.entries(s))t instanceof n&&t.subscribe((t=>{o[e]=t})),o[e]=t;else a.allowObjectProperties&&o.setAttribute(e,JSON.stringify(s));else o.setAttribute(e,s.toString());const u=e=>{for(const t of e)if(Array.isArray(t))u(t);else if(t instanceof l)c(o,t),t.didUpdate();else if(t instanceof HTMLElement)o.appendChild(t);else if(t[i]instanceof n){let e=document.createTextNode(t);t[i].subscribe((t=>{e.textContent=t})),o.appendChild(e)}else o.appendChild(document.createTextNode(t))};return u(s.flat(1/0)),o}function f(e){const t=new n(e);let r;return o.subscribe((e=>{r=e})),[s(t),e=>(t.next(e),r.node.replaceWith(r.render()),e)]}const d=function e(t,n){if(t===n)return!0;if(!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;for(var s in t)if(t.hasOwnProperty(s)){if(!n.hasOwnProperty(s))return!1;if(t[s]!==n[s]){if("object"!=typeof t[s])return!1;if(!e(t[s],n[s]))return!1}}for(s in n)if(n.hasOwnProperty(s)&&!t.hasOwnProperty(s))return!1;return!0};function p(e,t=[]){var s=t.map((e=>e.valueOf()));const r=o.value,i=n=>{if(s.length>0){let r=!1;for(let e=0;e<s.length;e++)if(!d(s[e],t[e].valueOf())){r=!0;break}r&&(e(n),s=t.map((e=>e.valueOf())))}else e(n)};r.onComponentDidMount(i),r.onComponentDidUpdate(i),t.forEach((e=>{e instanceof n&&e.subscribe(i)}))}function b(){return new r}function h(e){const t=e=>{for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*s));return t};let n=document.createElement("style");document.head.appendChild(n);let s,r=n.sheet,o="";const i={},l=e=>{for(const n in e){let c=e[n];if(null===c)s.style[n]="none";else if("number"==typeof c)s.style[n]=c+"px";else if("string"==typeof c)s.style[n]=c;else{if(n.indexOf("&")>-1){let e=n.replace(/&/g,o);r.insertRule(`.${e} {}`,0),o=e}else{const e=t(10);r.insertRule(`.${e} {}`,0),o=e,i[n]=e}s=r.cssRules[0],l(c)}}};return l(e),i}function y(e,t){let r=e();const o=new n(r),l=s(o);for(const s of t){let t=s[i];t instanceof n&&t.subscribe((()=>{o.next(e())}))}return l}function m(e,t,n=(e=>e)){let s=n(t);const[r,o]=f(s);return[r,t=>{let n=e(r,t);o(n)}]}const C={options:a,Component:l,Fragment:function(e){return()=>u("Fragment",null,...e.children)},make:u,render:c};var v=t.KS,O=t.vH,w=t.ji,g=t.E5,x=t.bk,U=t.Ei,j=t.Zs;export{v as Snowblind,O as applyChange,w as applyMemo,g as applyReducer,x as applyRef,U as applyState,j as applyStyles};