var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{KS:()=>m,vH:()=>d,ji:()=>b,E5:()=>y,bk:()=>p,Ei:()=>u,Zs:()=>h});class n{constructor(e){this.subscriberCount=0,this.value=e,this.subscribers=[]}next(e){this.value=e;for(const t of this.subscribers)t(e)}subscribe(e){this.subscribers.push(e),this.subscriberCount++}restore(){this.subscribers=[],this.value=void 0}}function r(e){let t={value:e.value};return e.subscribe((e=>t.value=e)),new Proxy(t,{get(t,n){if(n===i)return e;const r=Reflect.get(t,"value"),o=r[n];return"function"==typeof o?o.bind(r):o},ownKeys:e=>Reflect.ownKeys(e.value)})}class o{constructor(){this.current}}const s=new n,i=Symbol("isProxy");class a{constructor(e,t){this.didUpdateOnce=!1,this.didMountCallbacks=[],this.didUpdateCallbacks=[],this.willUnmountCallbacks=[],this.type=t,this.generator=e,s.next(this),s.restore()}render(){return this.node=this.generator(),this.node}onComponentDidMount(e){this.didMountCallbacks.push(e)}onComponentDidUpdate(e){this.didUpdateCallbacks.push(e)}onComponentWillUnmount(e){this.willUnmountCallbacks.push(e)}didUpdate(){this.didUpdateOnce?this.didUpdateCallbacks.forEach((e=>e(this.node))):(this.didMountCallbacks.forEach((e=>e(this.node))),this.didUpdateOnce=!0)}}function l(e,t){if(t instanceof a){s.next(t);let n=t.render();return e.appendChild(n),t.didUpdate(),n}return e.appendChild(t),t}const c={allowObjectProperties:!1};function u(e){const t=new n(e);let o;return s.subscribe((e=>{o=e})),[r(t),e=>(t.next(e),o.node.replaceWith&&o.node.replaceWith(o.render()),e)]}const f=function e(t,n){if(t===n)return!0;if(!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;for(var r in t)if(t.hasOwnProperty(r)){if(!n.hasOwnProperty(r))return!1;if(t[r]!==n[r]){if("object"!=typeof t[r])return!1;if(!e(t[r],n[r]))return!1}}for(r in n)if(n.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;return!0};function d(e,t=[]){var r=t.map((e=>e.valueOf()));const o=s.value,i=n=>{if(r.length>0){let o=!1;for(let e=0;e<r.length;e++)if(!f(r[e],t[e].valueOf())){o=!0;break}o&&(e(n),r=t.map((e=>e.valueOf())))}else e(n)};o.onComponentDidMount(i),o.onComponentDidUpdate(i),t.forEach((e=>{e instanceof n&&e.subscribe(i)}))}function p(){return new o}function h(e){const t=e=>{for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r));return t};let n=document.createElement("style");document.head.appendChild(n);let r,o=n.sheet,s="";const i={},a=e=>{for(const n in e){let l=e[n];if(null===l)r.style[n]="none";else if("number"==typeof l)r.style[n]=l+"px";else if("string"==typeof l)r.style[n]=l;else{if(n.indexOf("&")>-1){let e=n.replace(/&/g,s);o.insertRule(`.${e} {}`,0),s=e}else{const e=t(10);o.insertRule(`.${e} {}`,0),s=e,i[n]=e}r=o.cssRules[0],a(l)}}};return a(e),i}function b(e,t){let o=e();const s=new n(o),a=r(s);for(const r of t){let t=r[i];t instanceof n&&t.subscribe((()=>{s.next(e())}))}return a}function y(e,t,n=(e=>e)){let r=n(t);const[o,s]=u(r);return[o,t=>{let n=e(o,t);s(n)}]}const m={options:c,Component:a,Fragment:"div",make:function(e,t,...r){let s;if(t=t||{},"function"==typeof e){t.children=r||[];let n=e(t);if("function"!=typeof n)throw new Error("Snowblind component initializers must return a function.");return new a(n,e.displayName||e.name)}if(s=-32===e?document.createDocumentFragment():document.createElement(e),!(s instanceof DocumentFragment))for(const[e,r]of Object.entries(t))if("function"==typeof r)s[e]=r;else if(r instanceof n)s.setAttribute(e,r.value);else if(r instanceof o)r.current=s;else if("object"==typeof r)if("style"===e)for(let[e,t]of Object.entries(r))null===t?t="none":"number"==typeof t&&(t+="px"),s.style[e]=t;else if("props"===e)for(const[e,t]of Object.entries(r))s[e]=t;else c.allowObjectProperties&&s.setAttribute(e,JSON.stringify(r));else s.setAttribute(e,r.toString());const u=e=>{for(const t of e)if(Array.isArray(t))u(t);else if(t instanceof a)l(s,t),t.didUpdate();else if(t instanceof HTMLElement)s.appendChild(t);else if(t&&t[i]instanceof n){let e=document.createTextNode(t);s.appendChild(e)}else s.appendChild(document.createTextNode(t))};return u(r.flat(1/0)),s},render:l};var v=t.KS,C=t.vH,O=t.ji,w=t.E5,g=t.bk,U=t.Ei,j=t.Zs;export{v as Snowblind,C as applyChange,O as applyMemo,w as applyReducer,g as applyRef,U as applyState,j as applyStyles};