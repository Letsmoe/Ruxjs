var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.d(t,{Gp:()=>_,O8:()=>A,qp:()=>E,qY:()=>v,U1:()=>b,Ye:()=>x,Ln:()=>y,_Y:()=>T,OT:()=>g,Yz:()=>w,RI:()=>O});var n={};e.r(n);class r{constructor(e){this.observable=e,this.value=e._value,e.subscribe((e=>{this.value=e}))}valueOf(){return this.value}toString(){return this.value.toString()}}class o{constructor(e){this.ID=(Math.random()+1).toString(36).substring(2),s[this.ID]=this,this.setElement(e)}setElement(e){this.element=e,this.element.setAttribute&&this.element.setAttribute("data-is-snowblind-child",this.ID)}}const s={},i={},a=new class{constructor(e){this._value=e,this._subscribers=[]}next(e){this._value=e;for(const t of this._subscribers)t(e)}subscribe(e){this._subscribers.push(e)}complete(){this._subscribers=new Proxy([],{set:()=>{throw new Error("Observable has been completed.")}})}restore(){this._subscribers=[],this._value=void 0}};class c{constructor(e,t={}){if(e._Observer.boundRender=this,this._wasDestroyed=!1,this._renderIsFirstTime=!0,this._maxCopies=e._maxCopies,this._copiesKeptAlive=0,this._lastNode=t.replace||document.body.appendChild(document.createElement("i")),this._Node,this.Object=e,!(e instanceof m.Component))throw new Error("Renderer didn't receive object of type Snowblind.Component")}Render(){if(this._wasDestroyed)throw new Error("Renderer has been destroyed.");if(this.Object._usesTransition){const e=this._Node;this._copiesKeptAlive>=this._maxCopies?e.remove():this.Object.transitionFunction.leave((()=>{e.remove(),this._copiesKeptAlive-=1}))}var e=this.Object.render();if(!(e instanceof HTMLElement))throw new Error("Can only initialize object with type of HTMLElement.");this._Node=e,this.Object.Node=this._Node;var t=this._Node;const n=document.activeElement,r=n.selectionStart,o=n.selectionEnd;let i;if((i=this._lastNode.getAttribute("data-is-snowblind-child"))&&s[i].setElement(this._Node),this._lastNode.replaceWith(this._Node),n){const e=n.getAttribute("key");if(e){const n=t.querySelector(`[key='${e}']`);n.focus(),n.setSelectionRange(r,o)}}if(this._lastNode=t,this.Object._usesTransition&&(this._copiesKeptAlive++,this.Object.transitionFunction.from((()=>{this._renderIsFirstTime||this.Object.transitionFunction.render()}))),this.Object.hasTheme){const e=document.createElement("div"),n=(e,t)=>{const n=this.Object.hasTheme[t];for(const r of Array.from(e))if("object"==typeof n)for(const e in n)r.style[e]=n[e];else r.style[t]=n};for(const r in this.Object.hasTheme){const o=t.querySelectorAll(r);o&&o.length>0?n(o,r):void 0!==e.style[r]&&n(Array.from(t.getElementsByTagName("*")).concat([t]),r)}}!0===this._renderIsFirstTime?(u(this.Object.didMountCallbacks,this._Node),this._renderIsFirstTime=!1):u(this.Object.didUpdateCallbacks,this._Node)}reinitialize(){this._renderIsFirstTime=!0,this.constructor(this.Object)}Destroy(){this._wasDestroyed=!0,u(this.Object.willUnmountCallbacks),this.Object._usesTransition?this.Object.transitionFunction.leave((()=>{this._Node.remove()})):this._Node.remove()}}const u=(e,...t)=>e.map((e=>e(...t))),l=Symbol("");class f{constructor(e){this.boundRender=!1;const t={get(e,n){if(n===l)return!0;const r=e[n];if(void 0!==r){if(null!==r){var o=r.constructor;r[l]||!o||o!=={}.constructor&&o!==[].constructor||(e[n]=new Proxy(r,t))}return e[n]}},set:(e,t,n)=>(e[t]=n,this.boundRender&&(this.debounce&&window.cancelAnimationFrame(this.debounce),this.debounce=window.requestAnimationFrame((()=>{this.boundRender.Render()}))),!0)};this._value=new Proxy(e,t)}}const d=new Proxy({Number:e=>"number"==typeof e,Integer:e=>"number"==typeof e&&e%1==0,BigInt:e=>"bigint"==typeof e,Float:e=>"number"==typeof e&&e%1!=0,String:e=>"string"==typeof e,Array:e=>Array.isArray(e),Object:e=>"object"==typeof e&&!Array.isArray(e),Symbol:e=>"symbol"==typeof e,Boolean:e=>"boolean"==typeof e,Function:e=>"function"==typeof e,node:e=>["number","string"].indexOf(typeof e)>-1||e instanceof HTMLElement||Array.isArray(e),element:e=>e instanceof HTMLElement,elementType:e=>e instanceof(void 0).Component,instanceOf:function(e){return t=>t instanceof e},typeOf:function(e){return t=>typeof t===e},oneOfType:function(e){return t=>e.map((e=>"function"==typeof e?e(t):this[e](t))).indexOf(!0)>-1},oneOf:function(e){return t=>e.indexOf(t)>-1},arrayOf:function(e){return t=>!!this.Array.isArray(t)&&-1===t.map((n=>{"function"==typeof e?e(t):this[e](t)})).indexOf(!1)},objectOf:function(e){return t=>!!t&&this.arrayOf(e)(Object.values(t))},shape:function(e){return t=>this.exact(e,!0)(t)},exact:function(e,t=!1){return n=>{if(!n||!e)return!1;for(const o in n)if(e.hasOwnProperty(o)){var r=("string"==typeof e[o]?this[e[o]]:e[o])(n[o]);if(!1===r)return r}else if(!t)return!1}},customProp:e=>e,Any:()=>!0},{set:()=>!1,get:function(e,t){if(e.hasOwnProperty(t)){var n=e[t];return n.isRequired=function(n,r){if(void 0===n)throw new Error(`Encountered undefined prop "${r}" as required object.`);return e[t](n)},n.ofLength=function(n){return r=>e[t](r)&&r.length===n},n}throw new Error(`Invalid type for property "${t}" encountered.`)}}),h=function(e,t,n,r){r=Object.assign({returnBool:!1},r),e=Object.assign({},n,e);var o=[];if(void 0!==t)for(const n in t){const i=t[n];var s=("function"==typeof i?i:d[i]||(()=>!1))(e[n],n);if(!1===s){if(r.returnBool)return s;throw new Error(`Invalid type for property "${n}" encountered.`)}o.push(s)}return!(!r.returnBool||-1!==o.indexOf(!1))||e};HTMLElement.prototype.insertAfter=Text.prototype.insertAfter=function(e){e&&e.parentNode&&e.parentNode.insertBefore(this,e.nextSibling)},window.expose=function(e,t){e=Array.from([e]).flat(),t=Array.from([t]).flat();for(let r=0;r<e.length;r++){const o=e[r];var n=(void 0===t[r]?o.name:t[r]).toLowerCase();i[n]=o}};const p={Component:class{constructor(e,t,n={}){if(n=Object.assign({replace:!1,hasTheme:!1},n),this.createdReferences={},this.globalSelf=i[this.constructor.name.toLowerCase()],this.globalSelf){const t=this.globalSelf.propTypes;if(t){e=h(e,t,this.globalSelf.defaultProps),this.unexpectedArguments={};for(const n in e){var r=e[n];t.hasOwnProperty(n)||(this.unexpectedArguments[n]=r,delete e[n])}}}this.hasTheme=n.hasTheme,this._watchingObservers=[],this._maxCopies=1/0,this._usesTransition=!1,this.didMountCallbacks=[],this.didUpdateCallbacks=[],this.willUnmountCallbacks=[],n.replace instanceof HTMLElement&&(e.children=Array.from(n.replace.childNodes).map((e=>new o(e)))),this._Observer=new f(e||{}),this.props=this._Observer._value,this.Renderer=new c(this,n),this._generatorFunction=t(e),a.next(this),a.restore();for(const e of this._watchingObservers)e.boundRender=this.Renderer;this.Renderer.Render()}onComponentDidMount(e){this.didMountCallbacks.push(e)}onComponentDidUpdate(e){this.didUpdateCallbacks.push(e)}onComponentWillUnmount(e){this.willUnmountCallbacks.push(e)}render(...e){return this._generatorFunction()}},renderAllIn(e=document.body){const t=e=>{for(const n of e){if(n instanceof HTMLScriptElement)continue;let e=n.nodeName.toLowerCase();if(i.hasOwnProperty(e)){let t=i[e];if("function"==typeof t){const e=this.getNodeProperties(n);new p.Component(e,t,{replace:n})}}else t(Array.from(n.children))}};t(Array.from(e.children))},getNodeProperties:e=>Object.fromEntries(Array.from(e.attributes).map((e=>{var t=e.value,n=e.name;let s;if(s=t.match(/\{\{([A-z0-9_ ]*?)\}\}/)){var i=s[1].trim(),a=typeof window[i];"undefined"!==a&&"function"!==a?t=window[i]:"function"===a&&(t=i+i.endsWith("()")?"":"()")}else if(n.startsWith(":"))t=function(e,...t){function n(e,t,n,r){e.addEventListener(t,(t=>{r&&t.target.isEqualNode(e)?n(e,t):r||n(e,t)}))}function s(e,t){var n=document.createTextNode(t);e.appendChild(n)}const i=/\{\{([0-9]+)\}\}/g;var a="",c=0;for(const t of e)a+=t+(e[e.length-1]===t?"":`{{${c++}}}`);const u=document.createElement("template");if(u.innerHTML=a,u.content.children.length>1)throw new Error("Multiple elements must be wrapped in a single element.");const l=document.createTreeWalker(u.content,1,null);let f,d=0;for(;null!==(f=l.nextNode());){(f instanceof HTMLTextAreaElement||f instanceof HTMLInputElement)&&(f.hasAttribute("key")||(f.setAttribute("key","inputNo"+d),d++));for(const e of Array.from(f.attributes)){var h=e.name,p=e.nodeValue,b=h[0],v=h.substring(1);const o=/\{([@.?!]+)\}/;p=p.replace(i,((e,s)=>{var i=parseInt(s),a=t[i],c="";if("ref"===h&&a.constructor&&"SnowblindRef"===a.constructor.name)return a.current=f,f.isReferenceTo=a,void f.removeAttribute("ref");if("sx"===h){if("string"==typeof a)f.style=a;else if("object"==typeof a)for(const e in a)f.style[e]=a[e];return void f.removeAttribute("sx")}const u=h.match(o);var l=[];const d=e=>{let t=0;for(const n of l)!1!==e(n[0],n[1])?t++:(delete l[t],l=l.filter((e=>e)))},p=(e,t=!0)=>{"!"===e?((e=!1)=>{for(const t in a)e?l.push([t,a[t]]):f.setAttribute(t,a[t])})(t):"."===e?((e=!1)=>{e?d(((e,t)=>{f[e]=t})):f[v]=a})(t):"?"===e?((e=!1)=>{e?d(((e,t)=>{if(t instanceof r&&(t=t.valueOf()),!t)return!1})):(a instanceof r&&(a=a.valueOf()),a&&(f[v]=a))})(t):"@"===e?((e=!1)=>{if(e)d(((e,t)=>(n(f,e,t,!1),!1)));else{var t=!1;"@"===h[1]&&(t=!0,v=v.substring(1)),n(f,v,a,t)}})(t):c=a};if(u)for(const e of u[1])p(e,!0);else p(b,!1);return d(((e,t)=>{f.setAttribute(e,t)})),c})),-1!==["@",".","?","!"].indexOf(b)||h.match(o)?f.removeAttribute(h):"ref"!==h&&f.setAttribute(h,p)}var y=Array.from(f.childNodes);for(const e of y)if(e.nodeType===Node.TEXT_NODE){var g=e.wholeText;const n=Array.from(g.matchAll(i));g=g.replace(i,(e=>" ".repeat(e.length))),n.length>0&&(e.textContent="");var w=0;for(let i=0;i<n.length;i++){const a=n[i];var O=parseInt(a[1]),A=(p=t[O],g.substring(w,a.index));""!==A&&s(f,A);const c=t=>{if(t instanceof o)c(t.element);else if(t instanceof HTMLElement||t instanceof SVGElement||t instanceof Text)t.insertAfter(e);else if(t instanceof HTMLCollection||t instanceof NodeList){var n=document.createElement("span");n.insertAfter(e),n.replaceWith(...t)}else Array.isArray(t)?t.reverse().map((e=>c(e))):t!==Object(t)||t instanceof r?s(f,t):console.error("The value you passed as a variable is not yet supported.")};if(c(p),i==n.length-1){e.remove();var _=g.substring(a.index+a[0].length);""!=_&&s(f,_)}w=a.index+p&&p.length}}}const T=u.content.children[0];return m.renderAllIn(T),T}([t]),n=n.substring(1);else if(t.startsWith("{")&&t.endsWith("}")){var c=t.substring(1,t.length-1);"true"===c||"false"===c?t="true"===c:parseFloat(c)==c&&(t=parseFloat(c))}else t.startsWith("[")&&t.endsWith("]")&&(t=JSON.parse(t.replace(/(?<!\\)'/g,'"')));return[n.startsWith("_")?n.substring(1):n,t]}))),eventBus:{on(e,t){document.addEventListener(e,(e=>t(e.detail)))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}},createElement:(e,t,n=[])=>{let r=document.createElement(e);for(let e in t)if(Object.hasOwnProperty.call(t,e)){let n=t[e];if(null!=n)if("text"==e)r.innerText=n;else{let t=e.substring(1).replace("@","");if("@"===e[0])r.addEventListener(e,(t=>{"@"==e[1]&&t.target.isEqualNode(r),n(r,t)}));else if("."===e[0])r[t]=n;else if("?"===e[0])n&&r.setAttribute(t,n);else if("object"==typeof n)for(const e in n)r.setAttribute(e,n[e]);else r.setAttribute(e,n)}}for(let e of n)"function"==typeof e||e instanceof HTMLElement&&r.appendChild(e);return r}};window.addEventListener("load",(()=>{p.renderAllIn()})),HTMLElement.prototype.insertAfter=function(e){e&&e.parentNode&&e.parentNode.insertBefore(this,e.nextSibling)};const m=p;function b(e){const[t,r]=(0,n.useState)(e);return[t,e=>r(e.value)]}function v(e,t){const[r,o]=(0,n.useState)(e),s=()=>{var e;r||(o(!0),null===(e=null==t?void 0:t.onOpen)||void 0===e||e.call(t))},i=()=>{var e;r&&(o(!1),null===(e=null==t?void 0:t.onClose)||void 0===e||e.call(t))};return[r,{open:s,close:i,toggle:()=>{r?i():s()}}]}function y(e,t=[]){const r=t=>({state:t.slice(0,e),queue:t.slice(e)}),[{state:o,queue:s},i]=(0,n.useState)({state:t.slice(0,e),queue:t.slice(e)});return{state:o,queue:s,add:(...e)=>{i((t=>{let n=[...t.state,...t.queue,...e];return r(n)}))},shift:()=>{var e;return i((t=>{let n=[...t.state,...t.queue];return e=n.shift(),r(n)})),e},update:e=>{i((t=>{let n=e([...t.state,...t.queue]);return r(n)}))},cleanQueue:()=>i((e=>({state:e.state,queue:[]})))}}function g(e,t){let r=t.indexOf(e);const[o,s]=(0,n.useState)(e);return[o,()=>{r=r==t.length-1?0:r+1;let e=t[r];s(e)}]}function w(e,t){n.UpdateDispatcher.subscribe((n=>{t=Object.assign({delay:0,duration:400,maxCopies:1/0,timingFunction:(e,t,n,r)=>-n/2*(Math.cos(Math.PI*e/r)-1)+t},t),n._maxCopies=t.maxCopies,n._usesTransition=!0;const r=(e,n,r)=>new Promise((o=>{setTimeout((()=>{const s=performance.now(),i=new RegExp(/([0-9.-]+)([A-z%]+)?/g),a=e=>-1==[void 0,null].indexOf(e)&&e.toString().matchAll(i),c=u=>{const l=performance.now()-s;l>=t.duration?(u||requestAnimationFrame((()=>{c(!0)})),o()):requestAnimationFrame((()=>{c(!1)}));for(const o in n){var f=Array.from(a(n[o]));if(-1==[void 0,null].indexOf(e[o])){var d=0,h=e[o].toString().replace(i,((e,n,r)=>{n=parseFloat(n);var s=parseFloat(f[d][1]);d++;var i=-1===["color","background","background-color"].indexOf(o)?"px":"";return t.timingFunction(l,n,s-n,t.duration).toString()+(r||f[d-1][2]||i)}));for(const e of r)e[0].style[o]=h,u&&(e[0].style[o]=n[o])}}};requestAnimationFrame((()=>{c(!1)}))}),t.delay)}));n.transitionFunction={from:t=>{for(const t in e.from)n.Node.style[t]=e.from[t];t()},render:t=>{r(e.render,e.enter,n.Node).then(t)},enter:t=>{r(e.from,e.enter,n.Node).then(t)},leave:t=>{r(e.enter,e.leave,n.Node).then(t)}}}))}function O(e,t){const[r,o]=(0,n.useState)(e),[s,i]=(0,n.useState)(t(e)?e:void 0,!1),[a,c]=(0,n.useState)(t(e),!1);return[{value:r,lastValidValue:s,valid:a},e=>{t(e)?(i(e),c(!0)):c(!1),o(e)}]}function A(e,t=["mousedown","touchstart"]){const r=(0,n.useRef)();var o;const s=t=>{const n=t.target;if(n&&o){const t=e=>!(e instanceof HTMLBodyElement)&&(!!e.isEqualNode(o)||(e.parentNode?t(e.parentNode):void 0));t(n)||e()}};return t.forEach((e=>document.addEventListener(e,s))),(0,n.useEffect)((e=>{o=e})),r}function _(e){return(t,n)=>e(t,n)}function T(e,t,r=(e=>e)){const[o,s]=(0,n.useState)(r(t));return[o,t=>{s(e(t))}]}function E(e){if(!e.subscribe)throw new TypeError("`useContext` must be used with a context object created with `createContext`");const[t,r]=(0,n.useState)(e._value);return e.subscribe((e=>{r(e)})),t.value}function x(e,t){let r=e();const o=new n.Observable(r);for(const r of t)r instanceof n.ValueBinder&&r.observable.subscribe((()=>{o.next(e())}));return new n.ValueBinder(o)}var N=t.Gp,S=t.O8,j=t.qp,C=t.qY,L=t.U1,M=t.Ye,F=t.Ln,R=t._Y,q=t.OT,I=t.Yz,P=t.RI;export{N as forwardRef,S as useClickOutside,j as useContext,C as useDisclosure,L as useInputState,M as useMemo,F as useQueue,R as useReducer,q as useToggle,I as useTransition,P as useValidatedState};