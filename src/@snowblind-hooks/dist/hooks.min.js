var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{Gp:()=>R,O8:()=>F,qp:()=>k,qY:()=>j,U1:()=>N,Ye:()=>P,Ln:()=>M,_Y:()=>I,OT:()=>L,Yz:()=>S,RI:()=>q});var n={d:(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},r={};n.d(r,{y$:()=>o,KS:()=>w,Ax:()=>a,tz:()=>s,MI:()=>u,oj:()=>i,dy:()=>O,d4:()=>v,sO:()=>y,eJ:()=>p});class o{constructor(e){this._value=e,this._subscribers=[]}next(e){this._value=e;for(const t of this._subscribers)t(e)}subscribe(e){this._subscribers.push(e)}complete(){this._subscribers=new Proxy([],{set:()=>{throw new Error("Observable has been completed.")}})}restore(){this._subscribers=[],this._value=void 0}}class s{constructor(){this.current}}class i{constructor(e){this.observable=e,this.value=e._value,e.subscribe((e=>{this.value=e}))}valueOf(){return this.value}toString(){return this.value.toString()}}class a{constructor(e){this.ID=(Math.random()+1).toString(36).substring(2),c[this.ID]=this,this.setElement(e)}setElement(e){this.element=e,this.element.setAttribute&&this.element.setAttribute("data-is-snowblind-child",this.ID)}}const c={},l={},u=new o;class d{constructor(e,t={}){if(e._Observer.boundRender=this,this._wasDestroyed=!1,this._renderIsFirstTime=!0,this._maxCopies=e._maxCopies,this._copiesKeptAlive=0,this._lastNode=t.replace||document.body.appendChild(document.createElement("i")),this._Node,this.Object=e,!(e instanceof w.Component))throw new Error("Renderer didn't receive object of type Snowblind.Component")}Render(){if(this._wasDestroyed)throw new Error("Renderer has been destroyed.");if(this.Object._usesTransition){const e=this._Node;this._copiesKeptAlive>=this._maxCopies?e.remove():this.Object.transitionFunction.leave((()=>{e.remove(),this._copiesKeptAlive-=1}))}var e=this.Object.render();if(!(e instanceof HTMLElement))throw new Error("Can only initialize object with type of HTMLElement.");this._Node=e,this.Object.Node=this._Node;var t=this._Node;const n=document.activeElement,r=n.selectionStart,o=n.selectionEnd;let s;if((s=this._lastNode.getAttribute("data-is-snowblind-child"))&&c[s].setElement(this._Node),this._lastNode.replaceWith(this._Node),n){const e=n.getAttribute("key");if(e){const n=t.querySelector(`[key='${e}']`);n.focus(),n.setSelectionRange(r,o)}}if(this._lastNode=t,this.Object._usesTransition&&(this._copiesKeptAlive++,this.Object.transitionFunction.from((()=>{this._renderIsFirstTime||this.Object.transitionFunction.render()}))),this.Object.hasTheme){const e=document.createElement("div"),n=(e,t)=>{const n=this.Object.hasTheme[t];for(const r of Array.from(e))if("object"==typeof n)for(const e in n)r.style[e]=n[e];else r.style[t]=n};for(const r in this.Object.hasTheme){const o=t.querySelectorAll(r);o&&o.length>0?n(o,r):void 0!==e.style[r]&&n(Array.from(t.getElementsByTagName("*")).concat([t]),r)}}!0===this._renderIsFirstTime?(f(this.Object.didMountCallbacks,this._Node),this._renderIsFirstTime=!1):f(this.Object.didUpdateCallbacks,this._Node)}reinitialize(){this._renderIsFirstTime=!0,this.constructor(this.Object)}Destroy(){this._wasDestroyed=!0,f(this.Object.willUnmountCallbacks),this.Object._usesTransition?this.Object.transitionFunction.leave((()=>{this._Node.remove()})):this._Node.remove()}}const f=(e,...t)=>e.map((e=>e(...t))),h=Symbol("");class m{constructor(e,t=(()=>{})){const n={get(e,t){if(t===h)return!0;const r=e[t];if(void 0!==r){if(null!==r){var o=r.constructor;r[h]||!o||o!=={}.constructor&&o!==[].constructor||(e[t]=new Proxy(r,n))}return e[t]}},set:(e,n,r)=>(e[n]=r,this.boundRender&&(this.debounce&&window.cancelAnimationFrame(this.debounce),this.debounce=window.requestAnimationFrame((()=>{this.boundRender.Render()}))),t(e,n,r),!0)};this._value=new Proxy(e,n)}}function p(e,t=!0){const n=new o(e);var r=new i(n);return!0===t&&u.subscribe((e=>{const t=e.Renderer;n.subscribe((()=>{t.Render()}))})),[r,e=>("function"==typeof e&&(e=e()),e=e.valueOf(),n.next(e),e)]}const b=function e(t,n){if(t===n)return!0;if(!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;for(var r in t)if(t.hasOwnProperty(r)){if(!n.hasOwnProperty(r))return!1;if(t[r]!==n[r]){if("object"!=typeof t[r])return!1;if(!e(t[r],n[r]))return!1}}for(r in n)if(n.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;return!0};function v(e,t=[]){var n=t.map((e=>e.valueOf()));u.subscribe((r=>{const o=r=>{n.length>0?(n.filter(((e,n)=>!b(e,t[n].valueOf()))).length>0||0==n.length)&&(e(r),n=t.map((e=>e.valueOf()))):e(r)};r.onComponentDidMount(o),r.onComponentDidUpdate(o)}))}function y(){return new s}window.expose=function(e,t){t=Array.from([t]).flat();for(const r in e){const o=e[r];var n=(void 0===t[0]?r:t[0]).toLowerCase();l[n]=o}};const w={Component:class{constructor(e,t,n={hasTheme:!1,replace:void 0}){const r=l[t.name.toLowerCase()];if(r){const t=r.propTypes;t&&window.typeCheck&&(e=window.typeCheck(e,t,r.defaultProps))}this.hasTheme=n.hasTheme,this._maxCopies=1/0,this._usesTransition=!1,this.didMountCallbacks=[],this.didUpdateCallbacks=[],this.willUnmountCallbacks=[],n.replace instanceof HTMLElement&&(e.children=Array.from(n.replace.childNodes).map((e=>new a(e)))),this._Observer=new m(e||{}),this.props=this._Observer._value,this.Renderer=new d(this,n);const o=n.replace.isReferenceTo;this._generatorFunction=t(e,o),u.next(this),u.restore(),this.Renderer.Render()}onComponentDidMount(e){this.didMountCallbacks.push(e)}onComponentDidUpdate(e){this.didUpdateCallbacks.push(e)}onComponentWillUnmount(e){this.willUnmountCallbacks.push(e)}render(...e){return this._generatorFunction()}},createContext(e){if("object"!=typeof e)throw new TypeError("`createContext` may only be used with objects.");const t=new o(e);return[new m(e,(e=>{t.next(e)}))._value,t]},renderAllIn(e=document.body){const t=e=>{for(const n of e){if(n instanceof HTMLScriptElement)continue;let e=n.nodeName.toLowerCase();if(l.hasOwnProperty(e)){let t=l[e];if("function"==typeof t){const e=this.getNodeProperties(n);new w.Component(e,t,{hasTheme:!1,replace:n})}}else t(Array.from(n.children))}};t(Array.from(e.children))},getNodeProperties:e=>Object.fromEntries(Array.from(e.attributes).map((e=>[e.name,e.value]))),eventBus:{on(e,t){document.addEventListener(e,(e=>t(e instanceof CustomEvent?e.detail:void 0)))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}},createElement:(e,t,n=[])=>{let r=document.createElement(e);for(let e in t)if(Object.hasOwnProperty.call(t,e)){let n=t[e];if(null!=n)if("text"==e)r.innerText=n;else{let t=e.substring(1).replace("@","");if("@"===e[0])r.addEventListener(e,(t=>{"@"==e[1]&&t.target.isEqualNode(r),n(r,t)}));else if("."===e[0])r[t]=n;else if("?"===e[0])n&&r.setAttribute(t,n);else if("object"==typeof n)for(const e in n)r.setAttribute(e,n[e]);else r.setAttribute(e,n)}}for(let e of n)"function"==typeof e||e instanceof HTMLElement&&r.appendChild(e);return r}};function O(e,...t){function n(e,t,n,r){e.addEventListener(t,(t=>{r&&t.target.isEqualNode(e)?n(e,t):r||n(e,t)}))}function r(e,t){var n=document.createTextNode(t);e.appendChild(n)}const o=/\{\{([0-9]+)\}\}/g;var s="",c=0;for(const t of e)s+=t+(e[e.length-1]===t?"":`{{${c++}}}`);const l=document.createElement("template");if(l.innerHTML=s,l.content.children.length>1)throw new Error("Multiple elements must be wrapped in a single element.");const u=document.createTreeWalker(l.content,1,null);let d,f=0;for(;null!==(d=u.nextNode());){(d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement)&&(d.hasAttribute("key")||(d.setAttribute("key","inputNo"+f),f++));for(const e of Array.from(d.attributes)){var h=e.name;let r=e.nodeValue;var m=h[0],p=h.substring(1);const s=/\{([@.?!]+)\}/;r=r.replace(o,((e,r)=>{var o,a=parseInt(r),c=t[a],l="";if("ref"===h&&"SnowblindRef"===(null===(o=null==c?void 0:c.constructor)||void 0===o?void 0:o.name))return c.current=d,d.isReferenceTo=c,void d.removeAttribute("ref");if("sx"===h){if("string"==typeof c)d.setAttribute("style",c);else if("object"==typeof c)for(const e in c)d.style[e]=c[e];return void d.removeAttribute("sx")}const u=h.match(s);var f=[];const b=e=>{let t=0;for(const n of f)!1!==e(n[0],n[1])?t++:(delete f[t],f=f.filter((e=>e)))},v=(e,t=!0)=>{"!"===e?((e=!1)=>{for(const t in c)e?f.push([t,c[t]]):d.setAttribute(t,c[t])})(t):"."===e?((e=!1)=>{e?b(((e,t)=>{d[e]=t})):d[p]=c})(t):"?"===e?((e=!1)=>{e?b(((e,t)=>{if(t instanceof i&&(t=t.valueOf()),!t)return!1})):(c instanceof i&&(c=c.valueOf()),c&&(d[p]=c))})(t):"@"===e?((e=!1)=>{if(e)b(((e,t)=>(n(d,e,t,!1),!1)));else{var t=!1;"@"===h[1]&&(t=!0,p=p.substring(1)),n(d,p,c,t)}})(t):l=c};if(u)for(const e of u[1])v(e,!0);else v(m,!1);return b(((e,t)=>{d.setAttribute(e,t)})),l})),-1!==["@",".","?","!"].indexOf(m)||h.match(s)?d.removeAttribute(h):"ref"!==h&&"sx"!==h&&d.setAttribute(h,r)}var b=Array.from(d.childNodes);for(const e of b)if(e.nodeType===Node.TEXT_NODE){var v=e.textContent;const n=Array.from(v.matchAll(o));v=v.replace(o,(e=>" ".repeat(e.length))),n.length>0&&(e.textContent="");var y=0;for(let o=0;o<n.length;o++){const s=n[o];var O=parseInt(s[1]),g=t[O],A=v.substring(y,s.index);""!==A&&r(d,A);const c=t=>{t instanceof a?c(t.element):t instanceof HTMLElement||t instanceof SVGElement||t instanceof Text?_(t,e):Array.isArray(t)?t.slice().reverse().map((e=>c(e))):t!==Object(t)||t instanceof i?r(d,t):console.error("Only instances of HTMLElement, SVGElement, Text, Array or SnowblindChild are supported.")};if(c(g),o==n.length-1){e.remove();var T=v.substring(s.index+s[0].length);""!=T&&r(d,T)}y=s.index+g&&g.length}}}const x=l.content.children[0];return w.renderAllIn(x),x}window.addEventListener("load",(()=>{w.renderAllIn()})),HTMLElement.prototype.insertAfter=function(e){e&&e.parentNode&&e.parentNode.insertBefore(this,e.nextSibling)};const _=function(e,t){t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)};var g=r.y$,A=r.MI,T=r.oj,x=r.d4,E=r.sO,C=r.eJ;function N(e){const[t,n]=C(e);return[t,e=>n(e.value)]}function j(e,t){const[n,r]=C(e),o=()=>{var e;n||(r(!0),null===(e=null==t?void 0:t.onOpen)||void 0===e||e.call(t))},s=()=>{var e;n&&(r(!1),null===(e=null==t?void 0:t.onClose)||void 0===e||e.call(t))};return[n,{open:o,close:s,toggle:()=>{n?s():o()}}]}function M(e,t=[]){const n=t=>({state:t.slice(0,e),queue:t.slice(e)}),[{state:r,queue:o},s]=C({state:t.slice(0,e),queue:t.slice(e)});return{state:r,queue:o,add:(...e)=>{s((t=>{let r=[...t.state,...t.queue,...e];return n(r)}))},shift:()=>{var e;return s((t=>{let r=[...t.state,...t.queue];return e=r.shift(),n(r)})),e},update:e=>{s((t=>{let r=e([...t.state,...t.queue]);return n(r)}))},cleanQueue:()=>s((e=>({state:e.state,queue:[]})))}}function L(e,t){let n=t.indexOf(e);const[r,o]=C(e);return[r,()=>{n=n==t.length-1?0:n+1;let e=t[n];o(e)}]}function S(e,t){A.subscribe((n=>{t=Object.assign({delay:0,duration:400,maxCopies:1/0,timingFunction:(e,t,n,r)=>-n/2*(Math.cos(Math.PI*e/r)-1)+t},t),n._maxCopies=t.maxCopies,n._usesTransition=!0;const r=(e,n,r)=>new Promise((o=>{setTimeout((()=>{const s=performance.now(),i=new RegExp(/([0-9.-]+)([A-z%]+)?/g),a=e=>-1==[void 0,null].indexOf(e)&&e.toString().matchAll(i),c=l=>{const u=performance.now()-s;u>=t.duration?(l||requestAnimationFrame((()=>{c(!0)})),o()):requestAnimationFrame((()=>{c(!1)}));for(const o in n){var d=Array.from(a(n[o]));if(-1==[void 0,null].indexOf(e[o])){var f=0,h=e[o].toString().replace(i,((e,n,r)=>{n=parseFloat(n);var s=parseFloat(d[f][1]);f++;var i=-1===["color","background","background-color"].indexOf(o)?"px":"";return t.timingFunction(u,n,s-n,t.duration).toString()+(r||d[f-1][2]||i)}));for(const e of r)e[0].style[o]=h,l&&(e[0].style[o]=n[o])}}};requestAnimationFrame((()=>{c(!1)}))}),t.delay)}));n.transitionFunction={from:t=>{for(const t in e.from)n.Node.style[t]=e.from[t];t()},render:t=>{r(e.render,e.enter,n.Node).then(t)},enter:t=>{r(e.from,e.enter,n.Node).then(t)},leave:t=>{r(e.enter,e.leave,n.Node).then(t)}}}))}function q(e,t){const[n,r]=C(e),[o,s]=C(t(e)?e:void 0,!1),[i,a]=C(t(e),!1);return[{value:n,lastValidValue:o,valid:i},e=>{t(e)?(s(e),a(!0)):a(!1),r(e)}]}function F(e,t=["mousedown","touchstart"]){const n=E();var r;const o=t=>{const n=t.target;if(n&&r){const t=e=>!(e instanceof HTMLBodyElement)&&(!!e.isEqualNode(r)||(e.parentNode?t(e.parentNode):void 0));t(n)||e()}};return t.forEach((e=>document.addEventListener(e,o))),x((e=>{r=e})),n}function R(e){return(t,n)=>e(t,n)}function I(e,t,n=(e=>e)){const[r,o]=C(n(t));return[r,t=>{o(e(t))}]}function k(e){if(!e.subscribe)throw new TypeError("`useContext` must be used with a context object created with `createContext`");const[t,n]=C(e._value);return e.subscribe((e=>{n(e)})),t.value}function P(e,t){let n=e();const r=new g(n);for(const n of t)n instanceof T&&n.observable.subscribe((()=>{r.next(e())}));return new T(r)}var D=t.Gp,H=t.O8,U=t.qp,Y=t.qY,z=t.U1,V=t.Ye,B=t.Ln,K=t._Y,G=t.OT,$=t.Yz,W=t.RI;export{D as forwardRef,H as useClickOutside,U as useContext,Y as useDisclosure,z as useInputState,V as useMemo,B as useQueue,K as useReducer,G as useToggle,$ as useTransition,W as useValidatedState};